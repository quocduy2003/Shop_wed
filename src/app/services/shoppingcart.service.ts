import { Injectable } from '@angular/core';

@Injectable({
  providedIn: 'root'
})
export class ShoppingcartService {

  constructor() { }
  arr = [
    {
      id: 1,
      product_name: "Bàn phím cơ Gaming",
      price: "600000 ",
      quantity:1,
      image: "https://product.hstatic.net/200000522073/product/244181649_3043097489270122_8512858657422584055_n_cb17ce00c187436abbab76c18a41f58b_large.jpg",
    },
    {
      id: 2,
      product_name: "Bàn phím cơ Gaming",
      price: "600000",
      quantity:1,
      image: "https://product.hstatic.net/200000522073/product/ek868_fcc03cc2ee0c4dbb89bd5e549a09df31_large.jpg",
    },
    {
      id: 3,
      product_name: "Chuột DareU",
      price: "560000",
      quantity:1,
      image: "https://product.hstatic.net/200000522073/product/d4204035d81b8090dfbe003a6c0f9908_778e49c2c82f4c9e9eb009192b445b6b_large.jpg",
    },
    {
      id: 4,
      product_name: "Bàn phím cơ Gaming",
      price: "600,000",
      quantity:1,
      image: "https://product.hstatic.net/200000522073/product/16531_4cc5542c1b97497db06c82a4b0449fc7_large.jpg",
    },
    {
      id: 5,
      product_name: "Bàn phím cơ Gaming",
      price: "600000",
      quantity:1,
      image: "https://product.hstatic.net/200000522073/product/16531_4cc5542c1b97497db06c82a4b0449fc7_large.jpg",
    },
    {
      id: 6,
      product_name: "Bàn phím cơ Gaming",
      price: "600000",
      quantity:1,
      image: "https://product.hstatic.net/200000522073/product/16531_4cc5542c1b97497db06c82a4b0449fc7_large.jpg",
    },
    {
      id: 7,
      product_name: "Bàn phím cơ Gaming",
      price: "600000",
      quantity:1,
      image: "https://product.hstatic.net/200000522073/product/ef5cb46823f6a55811cf3969ef45fd0e_0fd67c38032444cb98d231afdf5acbc2_large.jpg",
    },
    // tới đây
    {
      id: 8,
      product_name: "Tai Nghe Bluetooth",
      price: "799000 ",
      quantity:1,
      image: "https://cdn.tgdd.vn/Files/2022/01/30/1413644/cac-thuong-hieu-tai-nghe-tot-va-duoc-ua-chuong-nha.jpg",
    },
    {
      id: 9,
      product_name: "Bàn phím cơ Gaming",
      price: "600000",
      quantity:1,
      image: "https://scontent.fsgn2-7.fna.fbcdn.net/v/t39.30808-6/278253004_3224413857788762_2332969340336481385_n.jpg?stp=dst-jpg_p526x395&_nc_cat=108&ccb=1-7&_nc_sid=730e14&_nc_ohc=RGpaaYR5VacAX9OF1x7&_nc_ht=scontent.fsgn2-7.fna&oh=00_AfAhHZ56QD1Rp2vjy9KMhiCTvekxRUB4puc0maC3Zd7Psw&oe=63EBB5A7",
    },
    {
      id: 10,
      product_name: "Legion 5 15IAH7 82RCOOLVN",
      price: "28990000 đ",
      quantity:1,
      image: "https://product.hstatic.net/1000026716/product/gearvn-laptop-gaming-lenovo-legion-5-15iah7-82rc008lvn-1_ca9a0645fba34a2e970c3dc047055497_large.png",
    },
    {
      id: 11,
      product_name: "Bàn phím cơ Gaming",
      price: "600000",
      quantity:1,
      image: "https://product.hstatic.net/200000522073/product/244181649_3043097489270122_8512858657422584055_n_cb17ce00c187436abbab76c18a41f58b_large.jpg",
    },
    {
      id: 12,
      product_name: "Bàn phím cơ Gaming",
      price: "600000",
      quantity:1,
      image: "https://product.hstatic.net/200000522073/product/244181649_3043097489270122_8512858657422584055_n_cb17ce00c187436abbab76c18a41f58b_large.jpg",
    },
  ]
  total=0;
  cart:any  = [];
  addtocart(item:any){
    if(this.cart.lenght===0){
      this.cart.push(item);
    }
    else{
      for(let i = 0; i < this.cart.length; i++){
        if(this.cart[i].id === item.id){
          this.cart[i].quantity ++;
          console.log(this.cart);
          return;
        }
      }
      this.cart.push(item);

    }
  }
  amount(){
    let subamount=0;
    for(let i=0;i<this.cart.lenght;i++){
      subamount+=(this.cart[i].price*this.cart[i].quantity);
    }
    this.total=subamount;
    alert(this.total)
  }
  
}
